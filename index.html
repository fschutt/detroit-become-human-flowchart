<!DOCTYPE html>
<html>
<head>
    <title>Detroit: Become Human Story Flowchart</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="./main.css">
    <link href="https://fonts.googleapis.com/css?family=Nunito:200,800" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet">
</head>
<body>
    <script type="text/javascript">

    </script>
    <!-- The grey-ish pattern in the background of the page -->
    <div id="triangle-container"></div>
    <div id="cross-container"></div>
    <!-- Header / title / summary -->
    <div id="heading-container">
        <div id="header"><p>The Hostage</p></div>
        <div id="playing-as"><p>Playing as:</p>&nbsp;<p>Connor</p></div>
        <div id="summary">
            <p>
                "The Hostage" is the first chapter of Detroit: Become Human.
                The player controls Connor in his first case involving a deviant
                android named Daniel who takes Emma Phillips hostage after murdering
                her father John Phillips. This chapter has six different outcomes.
                It was released as a free demo in April 24th 2018 worldwide.
            </p>
        </div>
    </div>
    <!-- The actual flowchart -->
    <div id="flowchart" style="padding: 0px 50px">

        <!-- Confront deviant outside -->
        <div class="choicegroup brackets large row" style="margin-top: 325px; margin-left:50px;">
            <div class="input-node chosen shift-left"></div>
            <div class="choicegroup">
                <div class="choice chosen">
                    <p>Confront deviant outside</p>
                </div>
            </div>
            <div class="output-node chosen shift-right"></div>
        </div>

        <!-- Negotiate with deviant -->
        <div class="large-brackets" style="margin-top: 100px; margin-left:150px;">

            <!-- Friendly approach -->
            <div class="choicegroup brackets" style="margin-top: 12px;margin-left: 0px;">
                <div class="choicegroup row">
                    <div class="bracket-pre"><img src="./assets/bracket_pre.svg"></div>
                    <div class="choicegroup">
                        <div class="choice chosen"><p>Friendly approach</p></div>
                        <div class="choice"><p>Cold approach</p></div>
                    </div>
                </div>
                <div class="output-node chosen output-bottom"></div>
            </div>

            <!-- Fail to negotiate -->
            <div class="choicegroup row" style="margin-top: -73px;margin-left: 408px;">
                <div class="input-node shift-left"></div>
                <div class="choice"><p>Fail to negotiate</p></div>
            </div>

            <!-- Refuse to dismiss helicopter -->
            <div class="choicegroup brackets" style="margin-top: 64px;margin-left: 374px;">
                <div class="choicegroup row">
                    <div class="input-node chosen shift-left"></div>
                    <div class="bracket-pre"><img src="./assets/bracket_pre.svg"></div>
                    <div class="choicegroup">
                        <div class="choice"><p>Refuse to dismiss helicopter</p></div>
                        <div class="choice chosen"><p>Dismiss helicopter</p></div>
                    </div>
                </div>
            </div>

            <!-- Negotiate with deviant -->
            <div class="choicegroup brackets" style="margin-top: 48px;margin-left: 150px;">
                <p class="section-header">Negotiate with deviant</p>
            </div>


            <!-- Save wounded cop -->
            <div class="choicegroup brackets" style="margin-top: 124px;margin-left: 0px;">
                <div class="output-node chosen output-top"></div>
                <div class="choicegroup row">
                    <div class="bracket-pre"><img src="./assets/bracket_pre.svg"></div>
                    <div class="choicegroup">
                        <div class="choice"><p>Leave wounded cop</p></div>
                        <div class="choice chosen"><p>Save wounded cop</p></div>
                    </div>
                </div>
            </div>

            <!-- Be honest about gun -->
            <div class="choicegroup brackets" style="margin-top: -126px;margin-left: 371px;">
                <div class="output-node chosen output-top"></div>
                <div class="choicegroup row">
                    <div class="bracket-pre"><img src="./assets/bracket_pre.svg"></div>
                    <div class="choicegroup">
                        <div class="choice chosen"><p>Be honest about gun</p></div>
                        <div class="choice"><p>Lie about gun</p></div>
                    </div>
                </div>
            </div>

        </div>

        <!-- Be honest with deviant -->
        <div class="large-brackets" style="margin-top: 75px; margin-left:150px;">
            <div class="choicegroup row chosen" style="margin-top: 75px;margin-left: 0px;">
                <div class="input-node chosen shift-left"></div>
                <div class="choice chosen"><p>Be honest with deviant</p></div>
            </div>
            <div class="choicegroup row" style="margin-top: 75px;margin-left: 0px;">
                <div class="input-node shift-left"></div>
                <div class="choice"><p>Lie to deviant</p></div>
            </div>
            <div class="choicegroup row" style="margin-top: 75px;margin-left: 0px;">
                <div class="input-node shift-left"></div>
                <div class="choice"><p>Sacrifice self</p></div>
            </div>
            <div class="choicegroup row" style="margin-top: 75px;margin-left: 0px;">
                <div class="input-node shift-left"></div>
                <div class="choice"><p>Use gun</p></div>
            </div>
        </div>
    </div>

    <script type="text/javascript" src="./main.js"></script>
    <script type="text/javascript">
        window.onload = function() {

            const TRIANGLE_WIDTH = 200;
            const TRIANGLE_HEIGHT = 173.199;

            function get_window_wh() {
                const MAX_WIDTH = Math.max(
                    document.documentElement["clientWidth"],
                    document.body["scrollWidth"],
                    document.documentElement["scrollWidth"],
                    document.body["offsetWidth"],
                    document.documentElement["offsetWidth"]
                );

                const MAX_HEIGHT = Math.max(
                    document.documentElement["clientHeight"],
                    document.body["scrollHeight"],
                    document.documentElement["scrollHeight"],
                    document.body["offsetHeight"],
                    document.documentElement["offsetHeight"]
                );

                return [MAX_WIDTH, MAX_HEIGHT];
            }

            const [MAX_WIDTH, MAX_HEIGHT] = get_window_wh();
            let triangle_renderer_background = new TriangleRenderer(
                document.getElementById('triangle-container'),
                MAX_WIDTH,
                MAX_HEIGHT,
                TRIANGLE_WIDTH,
                TRIANGLE_HEIGHT);

            // first screen update
            triangle_renderer_background.create_dom(MAX_WIDTH, MAX_HEIGHT);
            triangle_renderer_background.animate_triangles_small();
            triangle_renderer_background.animate_triangles_large();
            triangle_renderer_background.update_dom();

            // start animation
            triangle_renderer_background.set_triangle_timers();

            document.body.addEventListener("wheel", do_scroll);

            window.onresize = function() {
                triangle_renderer_background.create_dom(MAX_WIDTH, MAX_HEIGHT);
                triangle_renderer_background.animate_triangles_small();
                triangle_renderer_background.animate_triangles_large();
                triangle_renderer_background.update_dom();
            }
        }

        function do_scroll(wheel_event) {
            if (wheel_event.wheelDeltaY) {
                window.scrollBy(-wheel_event.wheelDeltaY, 0);
            } else if (wheel_event.deltaY) {
                if (wheel_event.deltaY > 0) {
                    window.scrollBy(120, 0);
                } else {
                    window.scrollBy(-120, 0);
                }
            }
        }

    </script>
</body>
</html>